<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx"
			   minWidth="780" minHeight="700"
			   maxWidth="780" maxHeight="700"
			   width="780" height="700"
			   currentState="NewGame"
			   xmlns:views="views.*">

	<s:states>
		<s:State name="NewGame"/>
		<s:State name="GameBoard"/>
		<s:State name="GameOver"/>
	</s:states>
	
	<fx:Script>
		<![CDATA[
			
			import engine.*;
			
			public var board:Board;
			public var player1:Player, player2:Player;
			
			public function startGame(player_1_human:Boolean, player_2_human:Boolean):void
			{
				board = new Board(7, 6, 4);
				
				if (player_1_human) {
					player1 = new HumanPlayer(board, Player.BLACK);
				} else {
					player1 = new AIPlayer(board, Player.BLACK, 5);
				}
				
				if (player_2_human) {
					player2 = new HumanPlayer(board, Player.RED);
				} else {
					player2 = new AIPlayer(board, Player.RED, 5);
				}
				
				currentState = "GameBoard";
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>

	<s:Panel x="0" y="0" width="780" height="700" title="Connect Four">

		<s:Group includeIn="NewGame">
			<s:Label x="10" y="100" text="Would you like to play a game?" width="760" height="64" fontSize="48" fontWeight="bold" verticalAlign="middle" textAlign="center"/>
			<s:Button x="205" y="200" label="Player vs. Player" height="60" width="370" fontSize="32" click="startGame(true,true)"/>
			<s:Button x="205" y="300" label="Player vs. Computer" height="60" width="370" fontSize="32" click="startGame(true,false)"/>
			<s:Button x="205" y="400" label="Computer vs. Computer" height="60" width="370" fontSize="32" click="startGame(false,false)"/>
		</s:Group>
		
		<s:Group includeIn="GameBoard">
			<!-- Column 0 -->
			<s:Button id="space_0_5" x="10" y="10"  label="" width="100" height="100"/>
			<s:Button id="space_0_4" x="10" y="120" label="" width="100" height="100"/>
			<s:Button id="space_0_3" x="10" y="230" label="" width="100" height="100"/>
			<s:Button id="space_0_2" x="10" y="340" label="" width="100" height="100"/>
			<s:Button id="space_0_1" x="10" y="450" label="" width="100" height="100"/>
			<s:Button id="space_0_0" x="10" y="560" label="" width="100" height="100"/>
			
			<!-- Column 1 -->
			<s:Button id="space_1_5" x="120" y="10"  label="" width="100" height="100"/>
			<s:Button id="space_1_4" x="120" y="120" label="" width="100" height="100"/>
			<s:Button id="space_1_3" x="120" y="230" label="" width="100" height="100"/>
			<s:Button id="space_1_2" x="120" y="340" label="" width="100" height="100"/>
			<s:Button id="space_1_1" x="120" y="450" label="" width="100" height="100"/>
			<s:Button id="space_1_0" x="120" y="560" label="" width="100" height="100"/>
			
			<!-- Column 2 -->
			<s:Button id="space_2_5" x="230" y="10"  label="" width="100" height="100"/>
			<s:Button id="space_2_4" x="230" y="120" label="" width="100" height="100"/>
			<s:Button id="space_2_3" x="230" y="230" label="" width="100" height="100"/>
			<s:Button id="space_2_2" x="230" y="340" label="" width="100" height="100"/>
			<s:Button id="space_2_1" x="230" y="450" label="" width="100" height="100"/>
			<s:Button id="space_2_0" x="230" y="560" label="" width="100" height="100"/>
			
			<!-- Column 3 -->
			<s:Button id="space_3_5" x="340" y="10"  label="" width="100" height="100"/>
			<s:Button id="space_3_4" x="340" y="120" label="" width="100" height="100"/>
			<s:Button id="space_3_3" x="340" y="230" label="" width="100" height="100"/>
			<s:Button id="space_3_2" x="340" y="340" label="" width="100" height="100"/>
			<s:Button id="space_3_1" x="340" y="450" label="" width="100" height="100"/>
			<s:Button id="space_3_0" x="340" y="560" label="" width="100" height="100"/>
			
			<!-- Column 4 -->
			<s:Button id="space_4_5" x="450" y="10"  label="" width="100" height="100"/>
			<s:Button id="space_4_4" x="450" y="120" label="" width="100" height="100"/>
			<s:Button id="space_4_3" x="450" y="230" label="" width="100" height="100"/>
			<s:Button id="space_4_2" x="450" y="340" label="" width="100" height="100"/>
			<s:Button id="space_4_1" x="450" y="450" label="" width="100" height="100"/>
			<s:Button id="space_4_0" x="450" y="560" label="" width="100" height="100"/>
			
			<!-- Column 5 -->
			<s:Button id="space_5_5" x="560" y="10"  label="" width="100" height="100"/>
			<s:Button id="space_5_4" x="560" y="120" label="" width="100" height="100"/>
			<s:Button id="space_5_3" x="560" y="230" label="" width="100" height="100"/>
			<s:Button id="space_5_2" x="560" y="340" label="" width="100" height="100"/>
			<s:Button id="space_5_1" x="560" y="450" label="" width="100" height="100"/>
			<s:Button id="space_5_0" x="560" y="560" label="" width="100" height="100"/>
			
			<!-- Column 6 -->
			<s:Button id="space_6_5" x="670" y="10"  label="" width="100" height="100"/>
			<s:Button id="space_6_4" x="670" y="120" label="" width="100" height="100"/>
			<s:Button id="space_6_3" x="670" y="230" label="" width="100" height="100"/>
			<s:Button id="space_6_2" x="670" y="340" label="" width="100" height="100"/>
			<s:Button id="space_6_1" x="670" y="450" label="" width="100" height="100"/>
			<s:Button id="space_6_0" x="670" y="560" label="" width="100" height="100"/>
		</s:Group>
		
		<s:Group includeIn="GameOver">
			<s:Label x="10" y="200" text="Game Over!" width="760" height="64" fontSize="48" fontWeight="bold" verticalAlign="middle" textAlign="center"/>
		</s:Group>

	</s:Panel>

</s:Application>
<!--
////////////////////////////////////////////////////////////////////////////////
// 
// Copyright (c) 2010 Jerry D'Antonio <stumpjumper@gmail.com>.
// 
// Licensed under MIT License http://www.opensource.org/licenses/mit-license.php
// 
////////////////////////////////////////////////////////////////////////////////
// 
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
// 
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
// 
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.
// 
////////////////////////////////////////////////////////////////////////////////
-->
